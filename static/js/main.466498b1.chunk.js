(this.webpackJsonpklipping=this.webpackJsonpklipping||[]).push([[0],{52:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);n(4);var a,c=n(1),r=n.n(c),i=n(18),o=n.n(i),s=(n(52),n(6)),l=n(9),u=n(0),d=n(7),b=n(3),f=n(2),p=n(8);!function(e){e.cutting="Cutting",e.metadata="Metadata",e.thumbnail="Thumbnail",e.finish="Finish"}(a||(a={}));var h,g,v,m={value:a.cutting},j=Object(p.c)({name:"mainMenuState",initialState:m,reducers:{setState:function(e,t){e.value=t.payload}}}),O=j.actions.setState,x=function(e){return e.mainMenuState.value},w=j.reducer,y=Object(p.c)({name:"finishState",initialState:{value:"Start processing",pageNumber:0},reducers:{setState:function(e,t){e.value=t.payload},setPageNumber:function(e,t){e.pageNumber=t.payload}}}),k=y.actions,S=k.setState,I=k.setPageNumber,C=function(e){return e.finishState.value},P=function(e){return e.finishState.pageNumber},D=y.reducer,E=n(10),A=n.n(E),T=n(13),N=n(42),M=n.n(N),R=n(23),W=n.n(R),L={mediaPackageId:void 0,opencast:{url:window.location.origin,name:void 0,password:void 0},metadata:{show:!0},thumbnail:{show:!0}},z=function(){var e=Object(T.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H().then((function(e){h=B(e,!1,"src-server","from server settings file")}));case 2:t=new URLSearchParams(window.location.search),n={},t.forEach((function(e,t){var a=n,c=t.split(".");c.slice(0,-1).forEach((function(e){e in a||(a[e]={}),a=a[e]})),a[c[c.length-1]]=e})),g=B(n,!0,"src-url","given as URL GET parameter"),v=G.all([L,h,g]);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(T.a)(A.a.mark((function e(){var t,n,a,c,r,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n="/").endsWith("/")||(n+="/"),a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SETTINGS_PATH||"editor-settings.toml",c=a.startsWith("/")?"":n,r="".concat(window.location.origin).concat(c).concat(a),e.prev=5,e.next=8,fetch(r);case 8:i=e.sent,e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(5),console.warn("Could not access '".concat(a,"' due to network error!"),e.t0||""),e.abrupt("return",null);case 15:if(404!==i.status){e.next=20;break}return console.debug("'".concat(a,"' returned 404: ignoring")),e.abrupt("return",null);case 20:if(i.ok){e.next=23;break}return console.error("Fetching '".concat(a,"' failed: ").concat(i.status," ").concat(i.statusText)),e.abrupt("return",null);case 23:if(!(null===(t=i.headers.get("Content-Type"))||void 0===t?void 0:t.startsWith("text/html"))){e.next=26;break}return console.warn("'".concat(a,"' request has 'Content-Type: text/html' -> ignoring...")),e.abrupt("return",null);case 26:return e.prev=26,e.t1=M.a,e.next=30,i.text();case 30:return e.t2=e.sent,e.abrupt("return",(0,e.t1)(e.t2));case 34:throw e.prev=34,e.t3=e.catch(26),console.error("Could not parse '".concat(a,"' as TOML: "),e.t3),new SyntaxError("Could not parse '".concat(a,"' as TOML: ").concat(e.t3));case 38:case"end":return e.stop()}}),e,null,[[5,11],[26,34]])})));return function(){return e.apply(this,arguments)}}(),B=function(e,t,n,a){var c=function(e,t,n){return"function"===typeof e?r(e,t,n):i(e,t,n)},r=function(e,c,r){try{var i=e(c,t,n);return void 0===i?c:i}catch(o){return console.warn("Validation of setting '".concat(r,"' (").concat(a,") with value '").concat(c,"' failed: ")+"".concat(o,". Ignoring.")),null}},i=function(e,t,n){var r={};for(var i in t){var o=n?"".concat(n,".").concat(i):i;if(i in e){var s=c(e[i],t[i],o);null!==s&&(r[i]=s)}else console.warn("'".concat(o,"' (").concat(a,") is not a valid settings key. Ignoring."))}return r};return c(K,e,"")},F={string:function(e,t){if("string"!==typeof e)throw new Error("is not a string, but should be")},boolean:function(e,t){if("boolean"!==typeof e){if(t){if("true"===e)return!0;if("false"===e)return!1;throw new Error("can't be parsed as boolean")}throw new Error("is not a boolean")}}},K={mediaPackageId:F.string,opencast:{url:F.string,name:F.string,password:F.string},metadata:{show:F.boolean},thumbnail:{show:F.boolean}},G=function(e,t){return W()(e,t,{arrayMerge:V})};G.all=function(e){return W.a.all(e,{arrayMerge:V})};var V=function(e,t,n){return t};var q=function(){return Object(u.c)(u.a,{styles:_})},_={name:"1bjjf7p",styles:"body{background-color:snow;font-size:medium;min-height:100vh;}"},U=Object(u.b)({borderRadius:"10px",cursor:"pointer",transitionDuration:"0.3s",transitionProperty:"transform","&:hover":{transform:"scale(1.1)"},"&:focus":{transform:"scale(1.1)"},"&:active":{transform:"scale(0.9)"},display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",textAlign:"center"},""),Y={name:"1eijd7m",styles:"width:200px;padding:16px;box-shadow:0 0 10px rgba(0, 0, 0, 0.3);justify-content:space-around;"},J=Object(u.b)({display:"flex",flexDirection:"row",gap:"20px"},""),X={name:"8kxyvl",styles:"position:absolute;left:-99999px;height:1px;width:1px;overflow:hidden;"},Q=function(e){return Object(u.b)(Object(l.a)(Object(l.a)({},!e&&{display:"none"}),{},{borderColor:"red",borderStyle:"dashed",fontWeight:"bold",padding:"10px"}),"")},Z=n(46);function $(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(T.a)(A.a.mark((function e(t){var n,a,c,r,i,o,s,u,d,b,f=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},a=n.body,c=Object(Z.a)(n,["body"]),r={"Content-Type":"application/json"},i={},v.opencast.name&&v.opencast.password&&(o=btoa(unescape(encodeURIComponent(v.opencast.name+":"+v.opencast.password))),i={Authorization:"Basic ".concat(o)}),s=Object(l.a)(Object(l.a)({method:a?"POST":"GET"},c),{},{headers:Object(l.a)(Object(l.a)(Object(l.a)({},r),c.headers),i)}),a&&(s.body=JSON.stringify(a)),e.prev=6,e.next=9,window.fetch(t,s);case 9:return b=e.sent,e.next=12,b.text();case 12:if(d=e.sent,!b.url.includes("login.html")){e.next=15;break}throw new Error("Got redirected to login page, authentification failed.");case 15:if(!b.ok){e.next=18;break}return u=d.length?JSON.parse(d):"",e.abrupt("return",u);case 18:throw new Error(b.statusText);case 21:return e.prev=21,e.t0=e.catch(6),e.abrupt("return",Promise.reject(e.t0.message?e.t0.message:u));case 24:case"end":return e.stop()}}),e,null,[[6,21]])})))).apply(this,arguments)}$.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $(e,Object(l.a)(Object(l.a)({},t),{},{method:"GET"}))},$.post=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return $(e,Object(l.a)(Object(l.a)({},n),{},{body:t}))};var te=function(e,t){var n=Math.pow(10,t);return Math.round((e+Number.EPSILON)*n)/n},ne=function(e){var t=new Date(e||0).toISOString().substr(11,2),n=new Date(e||0).toISOString().substr(14,2),a=new Date(e||0).toISOString().substr(17,2),c=[];return parseInt(t)>0&&c.push(t+" hours, "),(parseInt(n)>0||parseInt(t)>0)&&c.push(n+" minutes, "),c.push(a+" seconds"),c.join("")},ae={isPlaying:!1,isPlayPreview:!0,currentlyAt:0,segments:[{id:Object(p.d)(),start:0,end:1,deleted:!1}],tracks:[],activeSegmentIndex:0,selectedWorkflowIndex:0,previewTriggered:!1,aspectRatios:[],videoURLs:[],videoCount:0,duration:0,title:"",presenters:[],workflows:[],status:"idle",error:void 0},ce=Object(p.b)("video/fetchVideoInformation",Object(T.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v.mediaPackageId){e.next=2;break}throw new Error("Missing mediaPackageId");case 2:return e.next=4,$.get("".concat(v.opencast.url,"/editor/").concat(v.mediaPackageId,"/edit.json"));case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))),re=Object(p.c)({name:"videoState",initialState:ae,reducers:{setIsPlaying:function(e,t){e.isPlaying=t.payload},setIsPlayPreview:function(e,t){e.isPlayPreview=t.payload},setPreviewTriggered:function(e,t){e.previewTriggered=t.payload},setCurrentlyAt:function(e,t){e.currentlyAt=te(t.payload,0),ie(e),le(e)},setCurrentlyAtInSeconds:function(e,t){e.currentlyAt=te(1e3*t.payload,0),ie(e),le(e)},addSegment:function(e,t){e.segments.push(t.payload)},setAspectRatio:function(e,t){e.aspectRatios[t.payload.dataKey]={width:t.payload.width,height:t.payload.height}},cut:function(e){if(e.segments[e.activeSegmentIndex].start===e.currentlyAt||e.segments[e.activeSegmentIndex].end===e.currentlyAt)return e;var t={id:Object(p.d)(),start:e.segments[e.activeSegmentIndex].start,end:e.currentlyAt,deleted:e.segments[e.activeSegmentIndex].deleted},n={id:Object(p.d)(),start:e.currentlyAt,end:e.segments[e.activeSegmentIndex].end,deleted:e.segments[e.activeSegmentIndex].deleted};e.segments.splice(e.activeSegmentIndex,1,t,n)},markAsDeletedOrAlive:function(e){e.segments[e.activeSegmentIndex].deleted=!e.segments[e.activeSegmentIndex].deleted},setSelectedWorkflowIndex:function(e,t){e.selectedWorkflowIndex=t.payload},mergeLeft:function(e){se(e,e.activeSegmentIndex,e.activeSegmentIndex-1)},mergeRight:function(e){se(e,e.activeSegmentIndex,e.activeSegmentIndex+1)}},extraReducers:function(e){e.addCase(ce.pending,(function(e,t){e.status="loading"})),e.addCase(ce.fulfilled,(function(e,t){e.status="success",e.videoURLs=t.payload.tracks.reduce((function(e,t){return e.push(t.uri),e}),[]),e.videoCount=e.videoURLs.length,e.duration=t.payload.duration,e.title=t.payload.title,e.presenters=[],e.segments=oe(t.payload.segments,t.payload.duration),e.tracks=t.payload.tracks,e.workflows=t.payload.workflows.sort((function(e,t){return e.displayOrder>t.displayOrder?1:e.displayOrder<t.displayOrder?-1:0})),e.aspectRatios=new Array(e.videoCount)})),e.addCase(ce.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}),ie=function(e){e.activeSegmentIndex=e.segments.findIndex((function(t){return t.start<=e.currentlyAt&&t.end>=e.currentlyAt})),e.activeSegmentIndex<0&&(e.activeSegmentIndex=0)},oe=function(e,t){var n=[];return 0===e.length&&n.push({id:Object(p.d)(),start:0,end:t,deleted:!1}),e.forEach((function(e){n.push({id:Object(p.d)(),start:e.start,end:e.end,deleted:e.deleted})})),n},se=function(e,t,n){n<0||n>e.segments.length-1||(e.segments[t].start=Math.min(e.segments[t].start,e.segments[n].start),e.segments[t].end=Math.max(e.segments[t].end,e.segments[n].end),e.segments.splice(n,1),ie(e))},le=function(e){if(e.isPlaying&&e.segments[e.activeSegmentIndex].deleted&&e.isPlayPreview){for(var t=e.segments[e.activeSegmentIndex].end,n=e.activeSegmentIndex;n<e.segments.length&&e.segments[n].deleted;)t=e.segments[n].end,n++;e.currentlyAt=t,e.previewTriggered=!0}},ue=re.actions,de=ue.setIsPlaying,be=ue.setIsPlayPreview,fe=ue.setCurrentlyAt,pe=ue.setCurrentlyAtInSeconds,he=(ue.addSegment,ue.setAspectRatio),ge=ue.cut,ve=ue.markAsDeletedOrAlive,me=ue.setSelectedWorkflowIndex,je=ue.mergeLeft,Oe=ue.mergeRight,xe=ue.setPreviewTriggered,we=function(e){return e.videoState.isPlaying},ye=function(e){return e.videoState.isPlayPreview},ke=function(e){return e.videoState.previewTriggered},Se=function(e){return e.videoState.currentlyAt},Ie=function(e){return e.videoState.currentlyAt/1e3},Ce=function(e){return e.videoState.segments},Pe=function(e){return e.videoState.activeSegmentIndex},De=function(e){return!e.videoState.segments[e.videoState.activeSegmentIndex].deleted},Ee=function(e){return e.videoState.selectedWorkflowIndex},Ae=function(e){return e.videoState.videoURLs},Te=function(e){return e.videoState.videoCount},Ne=function(e){return e.videoState.duration},Me=function(e){return e.videoState.duration/1e3},Re=function(e){return e.videoState.title},We=function(e){return e.videoState.presenters},Le=function(e){return e.videoState.tracks},ze=function(e){return e.videoState.workflows},He=function(e){return function(e){var t=Math.min.apply(Math,e.map((function(e){return e.height}))),n=Math.min.apply(Math,e.map((function(e){return e.width})));return n*=e.length,Math.min(t/n*100,28.125)}(e.videoState.aspectRatios)},Be=re.reducer,Fe=function(e){var t=e.iconName,n=e.stateName,c=Object(f.b)(),r=Object(f.c)(x),i=function(){c(O(n)),n===a.finish&&c(I(0)),c(de(!1))},o=Object(u.b)(Object(l.a)(Object(l.a)({width:"100%",height:"100px"},r===n&&{backgroundColor:"#DDD"}),{},{flexDirection:"column"}),"");return Object(u.c)("li",{css:Object(s.a)([U,o],""),role:"menuitem",tabIndex:0,onClick:i,onKeyDown:function(e){"Enter"===e.key&&i()}},Object(u.c)(d.a,{icon:t,size:"2x"}),Object(u.c)("div",null,n))},Ke=function(){var e=Object(u.b)({borderRight:"1px solid #BBB",width:"100px",display:"flex",flexDirection:"column",flexShrink:0,alignItems:"center",padding:"20px",gap:"30px"},"");return Object(u.c)("nav",{css:e,title:"Main Menu",role:"navigation","aria-label":"Main Navigation"},Object(u.c)(Fe,{iconName:b.h,stateName:a.cutting}),v.metadata.show&&Object(u.c)(Fe,{iconName:b.i,stateName:a.metadata}),v.thumbnail.show&&Object(u.c)(Fe,{iconName:b.k,stateName:a.thumbnail}),Object(u.c)(Fe,{iconName:b.n,stateName:a.finish}))},Ge=n(16),Ve=n(43),qe=n.n(Ve);var _e={name:"v0jgcu",styles:"position:absolute;top:0;left:0;"},Ue=function(e){var t=e.dataKey,n=e.url,a=e.isMuted,i=Object(f.b)(),o=Object(f.c)(we),s=Object(f.c)(Ie),d=Object(f.c)(Me),b=Object(f.c)(ke),p=Object(f.c)(He),h=Object(c.useRef)(null),g=Object(c.useState)(!1),v=Object(Ge.a)(g,2),m=v[0],j=v[1],O=Object(c.useState)(!1),x=Object(Ge.a)(O,2),w=x[0],y=x[1],k=function(e){te(s,3)!==te(e.playedSeconds,3)&&i(pe(e.playedSeconds))},S=function(){if(j(!0),h.current&&h.current.getInternalPlayer()){var e=h.current.getInternalPlayer().videoWidth,n=h.current.getInternalPlayer().videoHeight;i(he({dataKey:t,width:e,height:n}))}},I=function(){i(de(!1)),i(pe(d))};Object(c.useEffect)((function(){!o&&h.current&&m&&h.current.seekTo(s,"seconds"),b&&h.current&&m&&(h.current.seekTo(s,"seconds"),i(xe(!1)))}));var C=function(e){y(!0)},P={file:{attributes:{tabIndex:"-1"}}},D=Object(u.b)(Object(l.a)(Object(l.a)({},!w&&{display:"none"}),{},{borderColor:"red",borderStyle:"dashed",fontWeight:"bold",padding:"10px"}),""),E=Object(u.b)({position:"relative",width:"100%",paddingTop:p+"%"},""),A=_e;return Object(u.c)(r.a.Fragment,null,w?Object(u.c)("div",{css:D,title:"Error Box",role:"alert"},Object(u.c)("span",null,"An error has occured loading this video. ")):Object(u.c)("div",{css:E,title:"playerWrapper"},Object(u.c)(qe.a,{url:n,css:A,ref:h,width:"100%",height:"100%",playing:o,muted:a,onProgress:k,progressInterval:100,onReady:S,onEnded:I,onError:C,tabIndex:-1,config:P,disablePictureInPicture:!0})))},Ye={name:"83yu8f",styles:"display:flex;flex-direction:row;justify-content:center;align-items:center;width:100%;padding:20px;gap:50px;"},Je={name:"iveis7",styles:"width:100%;display:flex;justify-content:right;"},Xe={name:"1k0tw9u",styles:"width:100%;display:flex;justify-content:left;"},Qe=function(){var e=Ye,t=Je,n=Xe;return Object(u.c)("div",{css:e,title:"Video Controls"},Object(u.c)("div",{css:t},Object(u.c)(tt,null)),Object(u.c)(nt,null),Object(u.c)("div",{css:n},Object(u.c)(rt,null)))},Ze={name:"1supqt3",styles:"display:flex;gap:10px;justify-content:center;align-items:center;"},$e={name:"1gnq0uh",styles:"cursor:pointer;transition-duration:0.3s;transition-property:transform;&:hover{transform:scale(1.05);}"},et={name:"1jblnxu",styles:"display:inline-block;flex-wrap:nowrap;"},tt=function(){var e=Object(f.b)(),t=Object(f.c)(ye),n=function(){e(be(!t))},a=Ze,c=$e;return Object(u.c)("div",{css:a,title:"Skips deleted segments when playing the video. Currently "+(t?"on":"off")},Object(u.c)("div",{css:et},"Preview Mode"),Object(u.c)(d.a,{css:c,icon:t?b.t:b.s,size:"1x",role:"switch","aria-checked":t,tabIndex:0,"aria-hidden":!1,"aria-label":"Enable or disable preview mode.",onClick:n,onKeyDown:function(e){" "===e.key&&n()}}))},nt=function(){var e=Object(f.b)(),t=Object(f.c)(we),n=function(){e(de(!t))};return Object(u.c)(d.a,{css:Object(s.a)([U,{justifySelf:"center"}],""),icon:t?b.j:b.l,size:"2x",title:"Play Button",role:"button","aria-pressed":t,tabIndex:0,"aria-hidden":!1,"aria-label":"Play Button",onClick:n,onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||n()}})},at={name:"tx8ton",styles:"display:flex;flex-direction:row;gap:5px;"},ct={name:"lrwxz2",styles:"display:inline-block;width:100px;"},rt=function(){var e=Object(f.c)(Se),t=Object(f.c)(Ne);return Object(u.c)("div",{css:at},Object(u.c)("time",{css:ct,title:"Playback time and duration",tabIndex:0,role:"timer","aria-label":"Current time: "+ne(e)},new Date(e||0).toISOString().substr(11,12))," / ",Object(u.c)("div",{tabIndex:0,"aria-label":"Duration: "+ne(t)},new Date(t||0).toISOString().substr(11,12)))},it={name:"wnc553",styles:"display:inline-block;padding:15px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:500px;"},ot={name:"18kfia5",styles:"font-weight:bold;font-size:24px;vertical-align:-2.5px;"},st={name:"6xix1i",styles:"font-size:16px;"},lt=function(){var e,t=Object(f.c)(Re),n=Object(f.c)(We),a=it,c=ot;return n&&n.length&&(e=Object(u.c)("div",{css:a,title:"Video Presenters"},"by ",n.join(", "))),Object(u.c)("div",{title:"Video Area Header",css:st},Object(u.c)("div",{css:Object(s.a)([a,c],""),title:"Video Title"},t),e)},ut=function(){var e=Object(f.b)(),t=Object(f.c)(Ae),n=Object(f.c)(Te),a=Object(f.c)((function(e){return e.videoState.status})),r=Object(f.c)((function(e){return e.videoState.error}));Object(c.useEffect)((function(){"idle"===a&&e(ce())}),[a,e]);for(var i=[],o=0;o<n;o++)i.push(Object(u.c)(Ue,{key:o,dataKey:o,url:t[o],isMuted:0!==o}));var s=Object(u.b)({display:"flex",width:"auto",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"0px",borderBottom:"1px solid #BBB"},""),l=Object(u.b)({display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%"},"");return Object(u.c)("div",{css:s,title:"Video Area"},Object(u.c)("div",{css:Q("failed"===a),title:"Error Box",role:"alert"},Object(u.c)("span",null,"A problem occured during communication with Opencast."),Object(u.c)("br",null),r?"Details: "+r:"No error details are available.",Object(u.c)("br",null)),Object(u.c)(lt,null),Object(u.c)("div",{css:l,title:"Video Player Area"},i),Object(u.c)(Qe,null))},dt=n(44),bt=n.n(dt),ft=n(45);function pt(e){var t=this;this.audioContext=new AudioContext,this.oCanvas=document.createElement("canvas"),this.buffer={},this.WIDTH=0,this.HEIGHT=0,this.channelData=[],this.waveformImage="",this.audioBuffer=null,this.aveRMS=0,this.peakRMS=0,this.numberSamples=1e5,this.waveformType="img",this.drawWaveform=this.drawCanvasWaveform,e.width&&e.height&&this.setDimensions(e.width,e.height),e.samples&&(this.numberSamples=e.samples),e.type&&"svg"===e.type&&(this.waveformType="svg",this.drawWaveform=this.delegateToWorker,this.worker=null),e.media&&this.generateWaveform(e.media).then((function(){t.getAudioData(),t.drawWaveform(),"svg"!==t.waveformType&&n.forEach((function(e){e(t.waveformImage||t.svgPath,t.waveformType)}))})).catch((function(e){return console.log(e)}));var n=[];Object.defineProperty(this,"oncomplete",{get:function(){return n},set:function(e,t){if("function"==typeof e){if(this.waveformImage||this.svgPath)return void e(this.waveformImage||this.svgPath,this.svgLength);n.push(e)}}})}pt.prototype={constructor:pt,setDimensions:function(e,t){this.oCanvas.width=e,this.WIDTH=e,this.oCanvas.height=t,this.HEIGHT=t,this.ocCtx=this.oCanvas.getContext("2d")},decodeAudioData:function(e){var t=this;return new Promise((function(n,a){new Promise((function(t,n){if(e instanceof ArrayBuffer)t(e);else if(e instanceof Blob){var a=new FileReader;a.onload=function(){t(a.result)},a.readAsArrayBuffer(e)}})).then((function(e){t.audioContext.decodeAudioData(e).then((function(e){t.buffer=e,n()})).catch((function(e){a(e)}))})).catch((function(e){a(e)}))}))},getAudioData:function(e){e=e||this.buffer,this.channelData=this.dropSamples(e.getChannelData(0),this.numberSamples)},drawCanvasWaveform:function(e){var t=this;e=e||1,this.ocCtx.fillStyle="#FFFFFF00",this.ocCtx.fillRect(0,0,this.WIDTH,this.HEIGHT),this.ocCtx.lineWidth=1,this.ocCtx.strokeStyle="black";var n=1*this.WIDTH/this.channelData.length,a=0;this.ocCtx.beginPath(),this.ocCtx.moveTo(a,this.channelData[0]*this.HEIGHT/128/2),this.channelData.forEach((function(c){var r=c*e,i=t.HEIGHT*(1+r)/2;t.ocCtx.lineTo(a,i),t.aveRMS+=c*c,t.peakRMS=Math.max(c*c,t.peakRMS),a+=n})),this.ocCtx.lineTo(this.WIDTH,this.HEIGHT/2),this.ocCtx.stroke(),this.aveRMS=Math.sqrt(this.aveRMS/this.channelData.length),this.aveDBs=20*Math.log(this.aveRMS)/Math.log(10),this.waveformImage=this.oCanvas.toDataURL()},dropSamples:function(e,t){var n=Math.max(parseInt(e.length/t),1);return e.filter((function(e,t){return t%n===0}))},generateWaveform:function(e){return this.decodeAudioData(e)},delegateToWorker:function(){this.worker||(this.worker=new Worker("../util/svgworker.js"),this.worker.addEventListener("message",this.workerCommunication.bind(this),!1),this.worker.postMessage(this.channelData))},workerCommunication:function(e){switch(e.data.type){case"path":this.setSVGpath(e.data.path,e.data.length),this.worker.removeEventListener("message",this.workerCommunication.bind(this),!1),this.worker.terminate(),this.worker=null}},setSVGpath:function(e,t){var n=this;this.svgPath=document.createElementNS("http://www.w3.org/2000/svg","path"),this.svgLength=t,this.svgPath.setAttribute("d",e),this.svgPath.setAttribute("vector-effect","non-scaling-stroke"),this.svgPath.setAttribute("stroke-width","0.5px"),this.oncomplete.forEach((function(e){return e(n.svgPath,n.svgLength)}))}};var ht={name:"190c1k3",styles:"height:230px;"},gt={name:"2q5poe",styles:"transform:scaleY(1.5) rotate(90deg);padding:5px;"},vt={name:"woscqz",styles:"width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid black;"},mt={name:"17o39q1",styles:"width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid black;"},jt=function(e){var t=e.timelineWidth,n=Object(f.b)(),a=Object(f.c)(we),i=Object(f.c)(Se),o=Object(f.c)(Ne),s=Object(f.c)(Pe),l=Object(f.c)(Ce),p=Object(c.useState)({x:0,y:0}),h=Object(Ge.a)(p,2),g=h[0],v=h[1],m=Object(c.useState)(!1),j=Object(Ge.a)(m,2),O=j[0],x=j[1],w=Object(c.useState)(1e3),y=Object(Ge.a)(w,2),k=y[0],S=y[1],I=Object(c.useRef)(0),C=r.a.useRef(null);Object(c.useEffect)((function(){i!==I.current&&(P(),I.current=i)})),Object(c.useEffect)((function(){i&&o&&v({x:i/o*t,y:0})}),[t]);var P=function(){var e=g.y;v({x:i/o*t,y:e})},D=Object(u.b)({backgroundColor:"black",height:"250px",width:"1px",position:"absolute",zIndex:2,boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"},""),E=Object(u.b)({backgroundColor:"rgba(255, 255, 255, 1)",borderRadius:"10px",height:"50px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",cursor:O?"grabbing":"grab",transitionDuration:"0.3s",transitionProperty:"transform","&:hover":{transform:"scale(1.1)"},"&:active":{transform:"scale(0.9)"}},""),A=gt,T=vt,N=mt;return Object(u.c)(bt.a,{onStart:function(){x(!0)},onStop:function(e,a){var c=a.x,r=a.y;v({x:c,y:r}),n(fe(c/t*o)),x(!1)},axis:"x",bounds:"parent",position:g,disabled:a,nodeRef:C},Object(u.c)("div",{ref:C,css:D,title:"Scrubber"},Object(u.c)("div",{css:N}),Object(u.c)("div",{css:E,title:"dragHandle","aria-grabbed":O,"aria-label":"Scrubber. "+ne(i)+". Active segment: "+s+". "+(l[s].deleted?"Deleted.":"Alive.")+". Controls: Alt+j and Alt+k to move the scrubber. Alt+i and Alt+k to increase/decrase the move delta.",tabIndex:0,onKeyDown:function(e){if(e.altKey)switch(e.key){case"j":n(fe(Math.max(i-k,0)));break;case"l":n(fe(Math.min(i+k,o)));break;case"i":S(Math.min(10*k,1e6));break;case"k":S(Math.max(k/10,1))}}},Object(u.c)(d.a,{css:A,icon:b.a,size:"1x"})),Object(u.c)("div",{css:T})))},Ot=function(e){e.timelineWidth;var t=Object(f.c)(Ce),n=Object(f.c)(Ne),a=Object(f.c)(Pe),c=Object(u.b)({display:"flex",flexDirection:"row",paddingTop:"10px"},"");return Object(u.c)("div",{css:c,title:"Segments"},t.map((function(e,t){return Object(u.c)("div",{key:e.id,title:"Segment "+t,"aria-label":"Segment "+t+". "+(e.deleted?"Deleted.":"Alive.")+" Start: "+ne(e.start)+". End: "+ne(e.end)+".",tabIndex:0,css:Object(s.a)({background:(c=e.deleted,r=a===t,c||r?c&&!r?"repeating-linear-gradient(\n                -45deg,\n                rgba(255, 45, 45, 0.4),\n                rgba(255, 45, 45, 0.4) 10px,\n                rgba(255, 0, 0, 0.4) 10px,\n                rgba(255, 0, 0, 0.4) 20px);":!c&&r?"rgba(0, 0, 200, 0.4)":c&&r?"repeating-linear-gradient(\n                -45deg,\n                rgba(200, 45, 45, 0.4),\n                rgba(200, 45, 45, 0.4) 10px,\n                rgba(200, 0, 0, 0.4) 10px,\n                rgba(200, 0, 0, 0.4) 20px);":void 0:"rgba(0, 0, 255, 0.4)"),borderRadius:"5px",borderStyle:a===t?"dashed":"solid",borderColor:"white",borderWidth:"1px",boxSizing:"border-box",width:(e.end-e.start)/n*100+"%",height:"230px",zIndex:1},"")});var c,r})))},xt={name:"e6zfwc",styles:"min-height:0;"},wt=function(){var e=Object(f.c)(Ae),t=Object(f.c)((function(e){return e.videoState.status})),n=Object(c.useState)([]),a=Object(Ge.a)(n,2),i=a[0],o=a[1],s=Object(u.b)(Object(l.a)(Object(l.a)({display:"flex",flexDirection:"column",position:"absolute",justifyContent:"center"},i.length<=0&&{alignItems:"center"}),{},{width:"100%",height:"230px",paddingTop:"10px"}),"");Object(c.useEffect)((function(){if("success"===t){var n=[],a=0;[e[0]].forEach((function(e,t,c){var r=null,i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){r=i.response,new pt({type:"img",width:"2000",height:"230",samples:1e5,media:new File([r],r)}).oncomplete=function(e,t){n.push(e),++a===c.length&&o(n)}},i.send()}))}}),[t,e]);return Object(u.c)("div",{css:s,title:"WaveformDisplayTest"},i.length>0?i.map((function(e,t){return Object(u.c)("img",{key:t,alt:"Waveform",src:e||"",css:xt})})):Object(u.c)(r.a.Fragment,null,Object(u.c)(d.a,{icon:b.o,spin:!0,size:"3x"}),Object(u.c)("div",null,"Generating Waveform")))},yt=function(){var e=Object(ft.a)(),t=e.ref,n=e.width,a=void 0===n?1:n,c=Object(u.b)({position:"relative",height:"250px",width:"100%"},"");return Object(u.c)("div",{ref:t,css:c,title:"Timeline"},Object(u.c)(jt,{timelineWidth:a}),Object(u.c)("div",{css:ht},Object(u.c)(wt,null),Object(u.c)(Ot,{timelineWidth:a})))},kt={padding:"16px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)"},St=function(e){var t=e.iconName,n=e.actionName,a=e.action,c=e.tooltip,r=e.ariaLabelText,i=Object(f.b)(),o=function(){a&&i(a())};return Object(u.c)("div",{css:Object(s.a)([U,kt],""),title:c,role:"button",tabIndex:0,"aria-label":r,onClick:o,onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||o()}},Object(u.c)(d.a,{icon:t,size:"1x"}),Object(u.c)("span",null,n))},It=function(){var e=Object(f.b)(),t=Object(f.c)(De);return Object(u.c)("div",{css:Object(s.a)([U,kt],""),title:"Marks the segment at the current scrubber position as deleted or alive",role:"button",tabIndex:0,"aria-label":"Delete and Restore. Marks the segment at the current scrubber position as deleted or alive",onClick:function(){return e(ve())}},Object(u.c)(d.a,{icon:t?b.v:b.w,size:"1x"}),Object(u.c)("div",null,t?"Delete":"Restore"))},Ct=function(){var e=Object(u.b)({display:"flex",flexDirection:"row",justifyContent:"space-between",gap:"30px"},""),t=Object(u.b)({display:"flex",flexDirection:"row",gap:"30px"},"");return Object(u.c)("div",{css:e},Object(u.c)("div",{css:t},Object(u.c)(St,{iconName:b.e,actionName:"Cut",action:ge,tooltip:"Splits the segment at the current scrubber position",ariaLabelText:"Cut. Splits the segment at the current scrubber position"}),Object(u.c)(It,null),Object(u.c)(St,{iconName:b.p,actionName:"Merge Left",action:je,tooltip:"Combines the currently active segment with the segment to its left",ariaLabelText:"Merge Left. Combines the currently active segment with the segment to its left"}),Object(u.c)(St,{iconName:b.q,actionName:"Merge Right",action:Oe,tooltip:"Combines the currently active segment with the segment to its right",ariaLabelText:"Merge Right. Combines the currently active segment with the segment to its right"})),Object(u.c)("div",{css:t}))},Pt=function(e){var t=e.iconName,n=e.stateName,a=Object(f.b)(),c=function(){a(S(n)),a(I(1))},r=Object(u.b)({width:"250px",height:"220px",flexDirection:"column",fontSize:"x-large",gap:"30px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)"},"");return Object(u.c)("div",{css:Object(s.a)([U,r],""),role:"button",tabIndex:0,onClick:c,onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||c()}},Object(u.c)(d.a,{icon:t,size:"2x"}),Object(u.c)("div",null,n))},Dt=function(){var e=Object(u.b)({display:"flex",flexDirection:"row",justifyContent:"space-around",gap:"30px"},"");return Object(u.c)("div",{css:e,title:"Finish Menu"},Object(u.c)(Pt,{iconName:b.m,stateName:"Save changes"}),Object(u.c)(Pt,{iconName:b.g,stateName:"Start processing"}),Object(u.c)(Pt,{iconName:b.r,stateName:"Discard changes"}))},Et={status:"idle",error:void 0},At=Object(p.b)("video/postVideoInformation",function(){var e=Object(T.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v.mediaPackageId){e.next=2;break}throw new Error("Missing mediaPackageId");case 2:return e.next=4,$.post("".concat(v.opencast.url,"/editor/").concat(v.mediaPackageId,"/edit.json"),{segments:Nt(t.segments),tracks:t.tracks});case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Tt=Object(p.c)({name:"workflowPostState",initialState:Et,reducers:{},extraReducers:function(e){e.addCase(At.pending,(function(e,t){e.status="loading"})),e.addCase(At.fulfilled,(function(e,t){e.status="success"})),e.addCase(At.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}),Nt=function(e){var t=[];return e.forEach((function(e){t.push({start:e.start,end:e.end,deleted:e.deleted,selected:!1})})),t},Mt=function(e){return e.workflowPostState.status},Rt=function(e){return e.workflowPostAndProcessState.error},Wt=Tt.reducer,Lt=function(){var e=Object(f.b)(),t=Object(f.c)(Ce),n=Object(f.c)(Le),a=Object(f.c)(Mt),c=b.m,r=!1,i="Save Button";"loading"===a?(c=b.o,r=!0,i="Attempting to save"):"success"===a?(c=b.b,r=!1,i="Saved successfully"):"failed"===a&&(c=b.f,r=!1,i="Save failed");var o=function(){e(At({segments:t,tracks:n}))};return Object(u.c)("div",{css:Object(s.a)([U,Y],""),title:i,role:"button",tabIndex:0,onClick:o,onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||o()}},Object(u.c)(d.a,{icon:c,spin:r,size:"1x"}),Object(u.c)("span",null,"Yes, save changes"),Object(u.c)("div",{css:X,"aria-live":"polite","aria-atomic":"true"},function(){if("success"===a)return"Saved successfully"}()))},zt=function(){var e=Object(f.c)(C),t=Object(f.c)(Mt),n=Object(f.c)(Rt),a=Object(u.b)({height:"100%",display:"Save changes"!==e?"none":"flex",flexDirection:"column",alignItems:"center",gap:"30px"},"");return Object(u.c)("div",{css:a,title:"Save Area"},Object(u.c)("span",null,"Here you can save the changes you made, but the video will not be cut yet. ",Object(u.c)("br",null),'To make Opencast cut the video, please go back and select "Start processing". ',Object(u.c)("br",null),"Do you truly wish to save?"),Object(u.c)("div",{css:J},Object(u.c)(cn,{pageNumber:0,label:"No, take me back",iconName:b.d}),Object(u.c)(Lt,null)),Object(u.c)("div",{css:Q("failed"===t),title:"Error Box",role:"alert"},Object(u.c)("span",null,"An error has occured. Please wait a bit and try again."),Object(u.c)("br",null),n?"Details: "+n:"No error details are available.",Object(u.c)("br",null)))},Ht=Object(p.c)({name:"endState",initialState:{end:!1,value:"success"},reducers:{setEnd:function(e,t){e.end=t.payload.hasEnded,e.value=t.payload.value}}}),Bt=Ht.actions.setEnd,Ft=function(e){return e.endState.end},Kt=function(e){return e.endState.value},Gt=Ht.reducer,Vt=function(){var e=Object(f.b)(),t=function(){e(Bt({hasEnded:!0,value:"discarded"}))};return Object(u.c)("div",{css:Object(s.a)([U,Y],""),title:"Discard changes button",role:"button",tabIndex:0,onClick:t,onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||t()}},Object(u.c)(d.a,{icon:b.r,size:"1x"}),Object(u.c)("span",null,"Yes, discard changes"))},qt=function(){var e=Object(f.c)(C),t=Object(u.b)({display:"Discard changes"!==e?"none":"flex",flexDirection:"column",alignItems:"center",gap:"30px"},"");return Object(u.c)("div",{css:t,title:"Abort Area"},Object(u.c)("span",null,"Discard all the changes you made? This cannot be undone! ",Object(u.c)("br",null),"Do you truly want all your changes to be lost forever?"),Object(u.c)("div",{css:J},Object(u.c)(cn,{pageNumber:0,label:"No, take me back",iconName:b.d}),Object(u.c)(Vt,null)))},_t={status:"idle",error:void 0},Ut=Object(p.b)("video/postVideoInformationWithWorkflow",function(){var e=Object(T.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v.mediaPackageId){e.next=2;break}throw new Error("Missing mediaPackageId");case 2:return e.next=4,$.post("".concat(v.opencast.url,"/editor/").concat(v.mediaPackageId,"/edit.json"),{segments:Nt(t.segments),tracks:t.tracks,workflows:t.workflow});case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Yt=Object(p.c)({name:"workflowPostAndProcessState",initialState:_t,reducers:{},extraReducers:function(e){e.addCase(Ut.pending,(function(e,t){e.status="loading"})),e.addCase(Ut.fulfilled,(function(e,t){e.status="success"})),e.addCase(Ut.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}),Jt=function(e){return e.workflowPostAndProcessState.status},Xt=function(e){return e.workflowPostAndProcessState.error},Qt=Yt.reducer;var Zt={name:"1wbzqqt",styles:"padding:16px;box-shadow:0 0 10px rgba(0, 0, 0, 0.3);"},$t=function(e){var t=e.text,n=Object(f.b)(),a=Object(f.c)(ze),c=Object(f.c)(Ee),r=Object(f.c)(Ce),i=Object(f.c)(Le),o=Object(f.c)(Jt),l=function(){n(Ut({segments:r,tracks:i,workflow:[{id:a[c].id}]}))},p=b.g,h=!1;"loading"===o?(p=b.o,h=!0):"success"===o?(p=b.b,h=!1,n(Bt({hasEnded:!0,value:"success"}))):"failed"===o&&(p=b.f,h=!1);var g=Zt;return Object(u.c)("div",{css:Object(s.a)([U,g],""),title:"Start processing button",role:"button",tabIndex:0,onClick:l,onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||l()}},Object(u.c)(d.a,{icon:p,spin:h,size:"1x"}),Object(u.c)("span",null,t))},en=function(){var e=Object(f.c)(Jt),t=Object(f.c)(Xt),n=Object(u.b)({display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",gap:"30px"},"");return Object(u.c)("div",{css:n,title:"Workflow Configuration Area"},Object(u.c)("h2",null,"Workflow Configuration"),Object(u.c)(d.a,{icon:b.u,size:"10x"}),"Placeholder",Object(u.c)("div",null,"Satisfied with your configuration?"),Object(u.c)("div",{css:J},Object(u.c)(cn,{pageNumber:1,label:"No, take me back",iconName:b.d}),Object(u.c)($t,{text:"Yes, start processing"})),Object(u.c)("div",{css:Q("failed"===e),title:"Error Box",role:"alert"},Object(u.c)("span",null,"An error has occured. Please wait a bit and try again."),Object(u.c)("br",null),t?"Details: "+t:"No error details are available.",Object(u.c)("br",null)))},tn=function(e){var t=e.stateName,n=e.workflowIndex,a=Object(f.b)(),c=Object(f.c)(Ee),r=function(){a(me(n))},i=Object(u.b)({backgroundColor:n!==c?"snow":"#DDD",padding:"16px"},"");return Object(u.c)("div",{css:Object(s.a)([U,i],""),title:"Click to select this workflow",role:"button",tabIndex:0,"aria-label":"Press to select the workflow: "+t,onClick:r,onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||r()}},Object(u.c)("span",null,t))},nn=function(){var e=Object(f.c)(ze),t=Object(f.c)(C),n=Object(f.c)(P),a=Object(f.c)(Ee),c=Object(f.c)(Jt),r=Object(f.c)(Xt),i=Object(u.b)({display:"Start processing"===t&&1===n?"flex":"none",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"50px"},""),o=Object(u.b)({display:"flex",flexDirection:"column",alignItems:"left",gap:"20px",flexWrap:"wrap",maxHeight:"50vh"},"");return Object(u.c)("div",{css:i},Object(u.c)("h2",null,"Select a workflow"),Object(u.c)("div",null,"Please select which workflow Opencast should use to cut and process the video. ",Object(u.c)("br",null),'If you are unsure on which workflow to choose, the already selected workflow or the "Publish" workflow are usually good choices.'),Object(u.c)("div",{css:o,title:"Workflow Selection Area"},e.length>0?e.map((function(e,t){return Object(u.c)(tn,{key:t,stateName:e.name,workflowIndex:t})})):"There are no workflows to select. Save your changes and contact an Opencast Administrator."),Object(u.c)("div",null,Object(u.c)("i",null,e.length>a&&e[a].description?e[a].description:"And this is where I would put a workflow description.... if I had one!")),Object(u.c)("div",{css:J},Object(u.c)(cn,{pageNumber:0,label:"Take me back",iconName:b.d}),Object(u.c)($t,{text:"Start processing with workflow"})),Object(u.c)("div",{css:Q("failed"===c),title:"Error Box",role:"alert"},Object(u.c)("span",null,"An error has occured. Please wait a bit and try again."),Object(u.c)("br",null),r?"Details: "+r:"No error details are available.",Object(u.c)("br",null)))};var an={name:"1eijd7m",styles:"width:200px;padding:16px;box-shadow:0 0 10px rgba(0, 0, 0, 0.3);justify-content:space-around;"},cn=function(e){var t=e.pageNumber,n=e.label,a=e.iconName,c=Object(f.b)(),r=function(){c(I(t))},i=an;return Object(u.c)("div",{css:Object(s.a)([U,i],""),role:"button",tabIndex:0,onClick:r,onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||r()}},Object(u.c)(d.a,{icon:a,size:"1x"}),Object(u.c)("span",null,n))},rn=function(){var e=Object(f.c)(P),t=Object(u.b)({display:0!==e?"none":"block"},""),n=Object(u.b)({display:1!==e?"none":"block"},""),a=Object(u.b)({display:2!==e?"none":"block"},"");return Object(u.c)("div",{title:"Finish"},Object(u.c)("div",{css:t},Object(u.c)(Dt,null)),Object(u.c)("div",{css:n},Object(u.c)(zt,null),Object(u.c)(nn,null),Object(u.c)(qt,null)),Object(u.c)("div",{css:a},Object(u.c)(en,null)))};var on={name:"8atqhb",styles:"width:100%;"},sn=function(){var e=Object(f.c)(x),t=Object(u.b)({display:e!==a.cutting?"none":"flex",flexDirection:"column",justifyContent:"space-around",gap:"20px",paddingRight:"20px",paddingLeft:"20px"},""),n=Object(u.b)({display:e!==a.finish?"none":"flex",flexDirection:"column",justifyContent:"space-around",gap:"20px",paddingRight:"20px",height:"100%"},""),c=Object(u.b)({display:e===a.cutting||e===a.finish?"none":"flex",flexDirection:"column",alignItems:"center",padding:"20px",gap:"20px"},"");return Object(u.c)("main",{title:"MainMenuContext",css:on,role:"main"},Object(u.c)("div",{css:t},Object(u.c)(ut,null),Object(u.c)(Ct,null),Object(u.c)(yt,null)),Object(u.c)("div",{css:n},Object(u.c)(rn,null)),Object(u.c)("div",{css:c},Object(u.c)(d.a,{icon:b.u,size:"10x"}),"Placeholder"))};var ln={name:"2ts5ex",styles:"width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px;gap:20px;"},un=function(){var e=function(){window.location.reload(!0)};return Object(u.c)("div",{css:Object(s.a)([U,Y],""),title:"Reload the page to start over",role:"button",tabIndex:0,onClick:e,onKeyDown:function(t){" "!==t.key&&"Enter"!==t.key||e()}},Object(u.c)("span",null,"Let me start over!"))},dn=function(){var e=Object(f.c)(Kt),t=Object(f.c)(Ne),n=ln;return Object(u.c)("div",{css:n,title:"The End"},Object(u.c)(d.a,{icon:"discarded"===e?b.r:b.c,size:"10x"}),Object(u.c)("div",null,"discarded"===e?"All your changes are now lost forever. You can now close the editor.":"success"===e?"Changes successfully saved to Opencast. Processing your changes may take up to\n              ".concat(new Date(2*t).toISOString().substr(11,8)," hours.\n              You can now close the editor."):void 0),"discarded"===e&&Object(u.c)(un,null))},bn=function(){var e=Object(f.c)(Ft),t={display:"flex",flexDirection:"row",height:"100%"};return Object(u.c)(r.a.Fragment,null,e?Object(u.c)(dn,null):Object(u.c)("div",{css:t,title:"Body"},Object(u.c)(Ke,null),Object(u.c)(sn,null)))};var fn,pn=function(){return Object(u.c)("div",{className:"App"},Object(u.c)(q,null),Object(u.c)(bn,null))},hn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,99)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},gn=Object(p.a)({reducer:{mainMenuState:w,finishState:D,videoState:Be,workflowPostState:Wt,workflowPostAndProcessState:Qt,endState:Gt}}),vn=Promise.race([z(),(fn=300,new Promise((function(e,t){return setTimeout(e,fn)})))]);vn.then((function(){o.a.render(Object(u.c)(r.a.StrictMode,null,Object(u.c)(f.a,{store:gn},Object(u.c)(pn,null))),document.getElementById("root"))}),(function(e){return t=Object(u.c)("p",null,"Fatal error while loading app: ".concat(e.message),Object(u.c)("br",null),"This might be caused by a incorrect configuration by the system administrator."),void o.a.render(t,document.getElementById("root"));var t})),hn()}},[[98,1,2]]]);
//# sourceMappingURL=main.466498b1.chunk.js.map